<div class="container">
  <%= render 'shared/main_nav' %>

  <div class="index-header">
    <h1><%= @remember.description %></h1>
    <div style="display: flex; gap: 0.5rem;">
      <%= link_to "Edit", edit_remember_path(@remember), class: "btn btn-primary" %>
    </div>
  </div>

  <%= link_to "<- Back to Remembers", remembers_path(namespace: @remember.namespace), class: "back-link" %>

  <!-- Action buttons at top -->
  <div class="card">
    <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; align-items: center;">
      <%= link_to "ðŸ“Œ Pin", pin_remember_path(@remember),
          data: { "turbo-method": :patch },
          class: "btn btn-secondary" %>
      <%= link_to "â¬† Bump Up", bump_up_remember_path(@remember),
          data: { "turbo-method": :patch },
          class: "btn btn-secondary" %>
      <%= link_to "â¬‡ Bump Down", bump_down_remember_path(@remember),
          data: { "turbo-method": :patch },
          class: "btn btn-secondary" %>
      <%= link_to "ðŸ—„ Retire", retire_remember_path(@remember),
          data: { "turbo-method": :patch, confirm: "Retire this remember?" },
          class: "btn btn-secondary" %>
      <span style="margin-left: auto; color: var(--text-secondary);">
        <% case @remember.state %>
        <% when "pinned" %>
          ðŸ“Œ Pinned
        <% when "floating" %>
          Decay: <%= format('%.2f', @remember.decay) %>
        <% when "retired" %>
          Retired
        <% end %>
      </span>
    </div>
  </div>

  <% if @remember.background.present? %>
    <div class="card">
      <h3>Background</h3>
      <p style="white-space: pre-wrap;"><%= @remember.background %></p>
    </div>
  <% end %>
</div>
